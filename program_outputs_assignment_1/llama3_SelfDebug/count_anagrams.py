# Generated by model: Stable-Code-Instruct-3B
# Strategy: CoT

from collections import defaultdict

def count_anagrams(words: list[str]) -> dict:
    """Group words that are anagrams and return counts per group."""
    anagram_groups = defaultdict(int)
    
    for word in words:
        if len(word) == 3:
            key = tuple(sorted(word))
        else:
            key = len(word)
        anagram_groups[key] += 1
        
    return dict(anagram_groups)
